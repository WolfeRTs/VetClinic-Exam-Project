{% extends 'base.html' %}
{% load i18n %}

{% block content %}
    
    <div class="site-container profile-container">
        <div class="profile-card">
            <div class="card-user">
                <div class="card-header">
                    <div class="card-icon">
                        {% if object.is_vet %}
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 256 256" style="enable-background:new 0 0 256 256" xml:space="preserve" width="70" height="70">
                                <style>.st0{fill:#382b73}.st3{fill:#e43d91}.st5{fill:#1caee4}.st6{fill:#fff}</style>
                                <switch>
                                    <g>
                                        <circle class="st0" cx="128" cy="128" r="119.4"/>
                                        <circle cx="128" cy="128" r="103.299" style="fill:#473080"/>
                                        <path class="st0" d="M210.081 105.203a24.765 24.765 0 0 0-.073-2.272c-.004-.046-.005-.092-.008-.138a24.859 24.859 0 0 0-.307-2.344v-.001c-2.016-11.25-11.656-20.094-23.446-20.595-8.41-.358-15.941 3.457-20.709 9.542a2.444 2.444 0 0 1-3.865 0c-4.768-6.085-12.299-9.9-20.709-9.542-11.79.501-21.43 9.345-23.446 20.595v.001a24.816 24.816 0 0 0-.307 2.344c-.004.046-.005.092-.008.138a24.344 24.344 0 0 0-.073 2.272c.354 22.878 27.654 43.202 40.243 51.368a147.04 147.04 0 0 0 3.232 2.037v1.246c0 20.947-17.042 37.989-37.99 37.989-20.947 0-37.989-17.042-37.989-37.989v-4.57c12.097-1.788 21.626-11.554 23.057-23.763a1.98 1.98 0 0 0-.841-1.852c.022-.444.034-.89.034-1.34V96.316a8.94 8.94 0 0 0-2.636-6.364l-2.767-2.767a1.994 1.994 0 0 0-.511-1.924L96.701 81a4.004 4.004 0 0 0-6.184.652c-1.055 1.591-.744 3.732.605 5.082l4.184 4.184c.522.523 1.26.687 1.927.511l2.766 2.766c.566.566.878 1.32.878 2.122v32.013c0 .39-.037.77-.058 1.154a2 2 0 0 0-1.155 1.542c-1.307 9.279-9.233 16.459-18.844 16.553-.065.001-.128.015-.192.018-.065-.004-.127-.018-.192-.018-9.611-.094-17.538-7.275-18.844-16.553a1.998 1.998 0 0 0-1.155-1.542c-.022-.384-.058-.764-.058-1.154V96.316c0-.802.312-1.556.878-2.122l2.765-2.765a1.991 1.991 0 0 0 1.925-.511l4.184-4.184c1.35-1.35 1.661-3.491.606-5.082A4.003 4.003 0 0 0 64.553 81l-4.262 4.262a1.991 1.991 0 0 0-.511 1.925l-2.765 2.765a8.94 8.94 0 0 0-2.636 6.364v32.013c0 .449.012.896.034 1.34a1.983 1.983 0 0 0-.841 1.852c1.431 12.209 10.96 21.975 23.057 23.763v4.57c0 25.358 20.631 45.989 45.989 45.989 25.359 0 45.99-20.631 45.99-45.989v-2.492c.393-.25.803-.512 1.232-.791 12.587-8.166 39.887-28.49 40.241-51.368z"/>
                                        <g>
                                            <path d="M186.247 72.854c-8.41-.357-15.942 3.457-20.709 9.543a2.444 2.444 0 0 1-3.865 0c-4.768-6.085-12.299-9.9-20.709-9.543-13.409.57-24.041 11.93-23.834 25.349.404 26.147 36.005 48.956 44.616 54.095a3.624 3.624 0 0 0 3.72 0c8.611-5.138 44.212-27.948 44.616-54.095.206-13.419-10.426-24.779-23.835-25.349z" style="fill:#ef5a9d"/>
                                            <path class="st3" d="M165.465 143.298a3.624 3.624 0 0 1-3.72 0c-8.141-4.858-40.389-25.514-44.228-49.849a24.75 24.75 0 0 0-.388 4.754c.404 26.147 36.005 48.956 44.616 54.095a3.624 3.624 0 0 0 3.72 0c8.611-5.138 44.212-27.948 44.616-54.095.025-1.62-.111-3.21-.388-4.754-3.839 24.335-36.087 44.991-44.228 49.849z"/>
                                            <path class="st3" d="M148.417 114.205c0 8.94 7.248 16.188 16.188 16.188 8.94 0 16.188-7.248 16.188-16.188v-3c0-8.94-7.248-16.188-16.188-16.188-8.94 0-16.188 7.248-16.188 16.188v3z"/>
                                            <g>
                                                <path d="M148.417 109.205c0 8.94 7.248 16.188 16.188 16.188 8.94 0 16.188-7.248 16.188-16.188v-3c0-8.94-7.248-16.188-16.188-16.188-8.94 0-16.188 7.248-16.188 16.188v3z" style="fill:#bcbec0"/>
                                                <path class="st5" d="M122.616 198.843c-25.358 0-45.989-20.631-45.989-45.989v-8.274h8v8.274c0 20.947 17.042 37.989 37.989 37.989 20.948 0 37.99-17.042 37.99-37.989V128h8v24.854c-.001 25.358-20.631 45.989-45.99 45.989z"/>
                                                <path class="st6" d="M80.626 147.579c-14.474 0-26.25-11.775-26.25-26.25V89.316a8.94 8.94 0 0 1 2.636-6.364l8.243-8.242a3 3 0 1 1 4.243 4.242l-8.243 8.242a2.982 2.982 0 0 0-.878 2.122v32.013c0 11.166 9.084 20.25 20.25 20.25s20.25-9.084 20.25-20.25V89.316c0-.802-.312-1.556-.878-2.122l-8.243-8.242a3 3 0 1 1 4.242-4.242l8.243 8.242a8.94 8.94 0 0 1 2.636 6.364v32.013c-.001 14.475-11.776 26.25-26.251 26.25z"/>
                                                <path class="st5" d="m65.946 83.918 4.184-4.184c1.35-1.35 1.661-3.491.606-5.082A4.003 4.003 0 0 0 64.552 74l-4.262 4.262a2 2 0 0 0 0 2.828l2.828 2.828a2 2 0 0 0 2.828 0zM95.305 83.918l-4.184-4.184c-1.35-1.35-1.661-3.491-.605-5.082A4.003 4.003 0 0 1 96.7 74l4.262 4.262a2 2 0 0 1 0 2.828l-2.828 2.828a2 2 0 0 1-2.829 0zM80.434 140.578c-9.611-.095-17.538-7.275-18.844-16.553a1.995 1.995 0 0 0-1.973-1.726h-4.052c-1.191 0-2.134 1.038-1.995 2.221 1.585 13.527 13.111 24.059 27.057 24.059a4 4 0 0 0 3.975-4.452c-.227-2.063-2.092-3.528-4.168-3.549z"/>
                                                <path class="st5" d="M99.663 124.025c-1.307 9.278-9.233 16.459-18.844 16.553-2.076.02-3.941 1.485-4.167 3.549a4 4 0 0 0 3.975 4.452c13.946 0 25.472-10.532 27.057-24.059.139-1.183-.804-2.221-1.995-2.221h-4.052c-.999 0-1.835.738-1.974 1.726z"/>
                                                <g>
                                                    <path d="M164.605 125.393c-1.381 0-2.721-.173-4-.498v4.98c1.282.326 2.617.519 4 .519a16.14 16.14 0 0 0 4-.519v-4.98a16.223 16.223 0 0 1-4 .498z" style="fill:#136da0"/>
                                                </g>
                                                <g>
                                                    <circle transform="rotate(-76.809 164.61 106.207)" class="st6" cx="164.605" cy="106.205" r="16.188"/>
                                                </g>
                                                <g>
                                                    <circle class="st5" cx="164.605" cy="106.205" r="9.355"/>
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                </switch>
                            </svg>
                        {% else %}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="70" height="70">
                                <defs>
                                    <style>.cls-3{fill:#6fabe6}.cls-4{fill:#82bcf4}</style>
                                </defs>
                                <g id="User_profile" data-name="User profile">
                                    <path d="M47 24A23 23 0 1 1 12.81 3.91 23 23 0 0 1 47 24z" style="fill:#374f68"/>
                                    <path d="M47 24a22.91 22.91 0 0 1-8.81 18.09A22.88 22.88 0 0 1 27 45C5.28 45-4.37 17.34 12.81 3.91A23 23 0 0 1 47 24z" style="fill:#425b72"/>
                                    <path class="cls-3" d="M39.2 35.39a19 19 0 0 1-30.4 0 17 17 0 0 1 10.49-8.73 8.93 8.93 0 0 0 9.42 0 17 17 0 0 1 10.49 8.73z"/>
                                    <path class="cls-4" d="M39.2 35.39a19 19 0 0 1-4.77 4.49 19 19 0 0 1-15.13-1 7.08 7.08 0 0 1-.51-12.18c.1-.07 0-.05.5-.05a9 9 0 0 0 9.42 0 17 17 0 0 1 10.49 8.74z"/>
                                    <path class="cls-3" d="M33 19a9 9 0 1 1-12.38-8.34A9 9 0 0 1 33 19z"/><path class="cls-4" d="M33 19a9 9 0 0 1-2.6 6.33c-9.13 3.74-16.59-7.86-9.78-14.67A9 9 0 0 1 33 19z"/>
                                </g>
                            </svg>
                        {% endif %}
                        <p>{{ object.username }}</p>
                    </div>
                    <div class="card-name">
                        <h2>{{ object.profile.get_name }}</h2>
                        <p>{{ object.email }}</p>
                    </div>
                </div>
                <div class="card-content">
                    <div class="info-item">
                        <h3>{% trans 'Телефонен номер:' %}</h3>
                        <p>{% if object.profile.phone_number %}{{ object.profile.phone_number }}{% else %}<i>{% trans '(непопълнено)' %}</i>{% endif %}</p>
                    </div>
                    <div class="info-item">
                        <h3>{% trans 'Държава:' %}</h3>
                        <p>{% if object.profile.country %}{{ object.profile.country }}{% else %}<i>{% trans '(непопълнено)' %}</i>{% endif %}</p>
                    </div>
                    <div class="info-item">
                        <h3>{% trans 'Град:' %}</h3>
                        <p>{% if object.profile.city %}{{ object.profile.city }}{% else %}<i>{% trans '(непопълнено)' %}</i>{% endif %}</p>
                    </div>
                </div>
                <div class="card-buttons">
                    <a href="{% url 'profile-edit' object.pk %}">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" xml:space="preserve" width="50" height="50">
                            <path fill="#EDEFF1" d="M436 502H76V10h266l94 94z"/><path fill="#D3D3D3" d="M101 192h200v30H101zM101 132h240v30H101zM101 252h160v30H101z"/>
                            <path fill="#466089" d="M101 452h100v30H101z"/>
                            <path fill="#D3D3D3" d="m342 10 94 94h-94z"/>
                            <g>
                                <path fill="#6E83B7" d="m486 220-58-58-240 240v43.857l-19.071 19.072 14.142 14.142L202.143 460H246z"/>
                                <path fill="#FFE352" d="m357.496 232.501 27-27 58 58-27 27z"/>
                            </g>
                        </svg>
                        <span class="static-hint-box">{% trans 'Редактирай' %}</span>
                    </a>
                    {% if object.pk == request.user.pk %}
                        <a href="{% url 'profile-delete' object.pk %}">
                            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="50" height="50" style="shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd" viewBox="0 0 6.827 6.827">
                                <defs><style>.fil0{fill:none}</style></defs>
                                <g id="Layer_x0020_1"><g id="_486850792">
                                    <path id="_486850144" class="fil0" d="M0 0h6.827v6.827H0z"/>
                                    <path id="_486850552" class="fil0" d="M.853.853h5.12v5.12H.853z"/>
                                </g><g id="_486849568">
                                    <path id="_486849592" d="M3.467 3.063 5.554.92a.244.244 0 0 1 .35.341L3.808 3.413l-.341.35-2.088 2.144a.244.244 0 0 1-.35-.34l2.097-2.154.34-.35z" style="fill:#A4393B"/>
                                    <path id="_486850024" d="m1.38.92 2.087 2.143.34.35 2.097 2.154a.244.244 0 0 1-.35.34L3.467 3.763l-.341-.35L1.029 1.26a.244.244 0 0 1 .35-.34z" style="fill:#85353B"/>
                                </g>
                                </g>
                            </svg>
                            <span class="static-hint-box">{% trans 'Изтрий' %}</span>
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-pets">
                <h2>{% trans 'Любимци' %}</h2>
                <div class="pets-list">
                    {% for pet in object.owner_pets.all %}
                        <div class="pet-container">
                            <div class="pet-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" width="80" height="80">
                                    <style>.st1{fill:#3d2a3d}.st36{fill:#6b4a6b}</style>
                                    <path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256z" style="fill:#43b06d" id="Layer_9"/>
                                    <g id="Layer_7">
                                        <path class="st1" d="m282.1 323.4 70 70c11.4 11.4 29.7 11.4 41.1.1 11.4-11.4 11.3-29.7-.1-41.1l-70-70-41 41z"/>
                                        <circle transform="rotate(-74.632 234.587 235.233)" class="st1" cx="234.6" cy="235.2" r="127.2"/>
                                        <path d="M306.9 162.9c39.9 39.9 39.9 104.6 0 144.6-39.9 39.9-104.6 39.9-144.6 0-39.9-39.9-39.9-104.6 0-144.6 39.9-39.9 104.6-39.9 144.6 0z" style="fill:#9ec853"/>
                                        <path class="st36" d="M278 260.9c0 11.8-9.7 21.3-21.4 21.3h-44c-11.8 0-21.6-9.5-21.6-21.3v-.1c0-11.8 10-20.8 21.8-20.8h43.7c11.8 0 21.6 9.1 21.6 20.8v.1z"/>
                                        <path class="st36" d="M255.5 245c0 14.9-9.6 26.9-21.5 26.9s-21.5-12-21.5-26.9c0-14.9 9.6-26.9 21.5-26.9 11.9.1 21.5 12.1 21.5 26.9zM272.6 202.5c0 9.2-7.4 16.6-16.6 16.6-9.2 0-16.6-7.4-16.6-16.6 0-9.2 7.4-16.6 16.6-16.6 9.2 0 16.6 7.4 16.6 16.6zM228.6 202.5c0 9.2-7.4 16.6-16.6 16.6-9.2 0-16.6-7.4-16.6-16.6 0-9.2 7.4-16.6 16.6-16.6 9.2 0 16.6 7.4 16.6 16.6z"/>
                                        <g>
                                            <path class="st36" d="M196.9 231.1c0 7.7-6.2 13.9-13.9 13.9s-13.9-6.2-13.9-13.9 6.2-13.9 13.9-13.9c7.6 0 13.9 6.2 13.9 13.9zM299.1 231.1c0 7.7-6.2 13.9-13.9 13.9s-13.9-6.2-13.9-13.9 6.2-13.9 13.9-13.9c7.6 0 13.9 6.2 13.9 13.9z"/>
                                        </g>
                                    </g>
                                </svg>
                            </div>
                            <div class="pet-content">
                                <h3>{{ pet.name }} ({{ pet.species }})</h3>
                                <a href="{% url 'pet-details' pet.pk %}" class="card-button">{% trans 'Детайли' %}</a>
                            </div>
                            
                        </div>
                    {% empty %}
                        <p>{% trans 'Няма записани любимци.' %}</p>
                    {% endfor %}
                </div>
                <a href="{% url 'pet_add' %}{% if request.user.is_vet %}?owner_id={{ object.pk }}{% endif %}" class="">
                    <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="50" height="50" style="shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd" viewBox="0 0 6.827 6.827">
                        <defs>
                            <style>.fil0{fill:none}.fil1{fill:#212121;fill-rule:nonzero}</style>
                        </defs>
                        <g id="Layer_x0020_1">
                            <g id="_371353672">
                                <path id="_371353768" class="fil0" d="M0 0h6.827v6.827H0z"/>
                                <path id="_371353720" class="fil0" d="M.853.853h5.12v5.12H.853z"/>
                            </g>
                            <path class="fil1" d="M1.421.905H5.94v4.624H1.315V.905h.106zm4.304.213H1.528v4.197h4.197V1.118z"/>
                            <path style="fill:#66bb6a;fill-rule:nonzero" d="M5.581 5.604v.318h-.107l-4.48-.004H.889V1.225h.325v.213H1.1v4.267l4.267.004v-.104z"/>
                            <path class="fil1" d="M3.733 1.723V4.71H3.52V1.723z"/>
                            <path class="fil1" d="M2.133 3.11H5.12v.213H2.133z"/>
                        </g>
                    </svg>
                    <span class="static-hint-box">{% trans 'Добави нов любимец' %}</span>
                </a>
            </div>
        </div>
    </div>
    
{% endblock %}